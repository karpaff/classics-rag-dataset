# Оценка RAG-системы
Приложение к научной статье «Контекстуальная поддержка глубокого чтения русской классической литературы на основе метода Retrieval-Augmented Generation»

## Использованные источники
- «Достоевский. Жизнь и творчество» (К.В. Мочульский) — биографическоеописание жизни Ф.М. Достоевского.
- «Путеводитель по „Преступлению и наказанию“» (К.А. Степанян)— анализ ключевых тем и эпизодов романа.
- «Воспоминания» (А.Г. Достоевская) — воспоминания о семейной жизничеты Достоевских.
- «Роман Ф.М. Достоевского „Преступление и наказание“: Комментарий»(С.В. Белов) — пояснения к тексту роману, которые помогают глубжепонять произведение.
- «Воскрешение Лазаря: опыт экзегетического прочтения романа Ф. М.Достоевского „Преступление и наказание“» (Т.А. Касаткина).
- «Из наблюдений над романом „Преступление и наказание“» (Б.Н. Тихомиров) — комментарии, связанные с топографией, хронологией и сюжетом романа.


## Использованный датасет
Датасет приведён в файле golden_dataset.json.
Он содержит следующие поля: 
- question — вопрос про Достоевского или его роман;
- relevant_texts - релевантные отрывки из источников, отобраны вручную;
- answer — эталонный ответ на основе релевантных отрывков.

## Промпт для LLM-as-a-Judge
Вы — беспристрастный судья, чья задача — оценить три ответа на заданный вопрос на основе предоставленных релевантных источников. Сравните ответы по следующим критериям:  
1. **Корректность** (соответствие фактам из источников)  
2. **Полнота** (охват всех важных аспектов вопроса)  
3. **Точность извлечения** (насколько правильно и уместно используются данные из источников)  
4. **Ясность и связность** (понятность, логичность, плавность изложения)  
5. **Лаконичность** (отсутствие лишней информации)  
6. **Философская глубина** (наличие аналитических, концептуальных или смысловых уровней, выходящих за рамки простого пересказа)

---

### Входные данные (формат JSON):
    {
      "question": "…текст вопроса…",
      "sources": [
        {"id": 1, "text": "…цитата или пересказ из источника 1…"},
        {"id": 2, "text": "…цитата или пересказ из источника 2…"}
      ],
      "answers": {
        "ModelA": "…текст ответа от модели A…",
        "ModelB": "…текст ответа от модели B…",
        "ModelC": "…текст ответа от модели C…"
      }
    }

---

### Задача:
1. Прочитайте вопрос и источники.  
2. Оцените каждый ответ по перечисленным критериям, выставив баллы от **0 до 5** (0 — совсем не соответствует, 5 — идеально).  
3. Для каждого критерия приведите краткое обоснование (**1–2 предложения**).  
4. Сложите баллы каждого ответа и определите победителя (**ModelA, ModelB или ModelC**).  
5. В выводе приведите:  
   - Таблицу оценок по критериям для всех моделей  
   - Общий итоговый балл каждой модели  
   - Рекомендацию: «Победитель: ModelX»  
   - Краткий вывод (1–2 предложения), почему именно этот ответ лучше  

---

### Пример ожидаемого вывода:

Критерий              | ModelA | ModelB | ModelC | Обоснование (A / B / C)
---------------------- | ------ | ------ | ------ | ------------------------
Корректность           | 4      | 5      | 3      | A: мелкая ошибка… / B: полностью точен… / C: упустил важную деталь…
Полнота                | 5      | 4      | 4      | A: охватил все… / B: упустил… / C: частично рассмотрел…
Точность извлечения    | 3      | 4      | 2      | A: мало ссылок… / B: хорошие ссылки… / C: почти без цитат…
Ясность и связность    | 5      | 5      | 4      | A: ясно… / B: тоже… / C: местами запутанно…
Лаконичность           | 4      | 3      | 5      | A: без лишнего… / B: избыточен… / C: максимально сжато…
Философская глубина    | 4      | 5      | 3      | A: сделал обобщение… / B: добавил глубокий анализ… / C: поверхностно…

**Итоговые баллы:**  
- ModelA: 25  
- ModelB: 26  
- ModelC: 21  

**Победитель:** ModelB  
**Вывод:** ответ B выигрывает за счёт высокой корректности, лучшего извлечения фактов и глубокой философской интерпретации, тогда как A чуть слабее, а C заметно уступает по полноте и глубине.
